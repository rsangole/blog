{
  "hash": "16733cd2fcc3a691671dead7efd1c6c0",
  "result": {
    "markdown": "---\ntitle: Perf Benchmarking Dummy Variables - Part II\ndate: '2020-12-16'\ncategories:\n  - Benchmarking\n---\n\n\n\n\n![](dummy.png)\n\n## tl;dr {#tldr}\n\n-   `{stats}` continues to dominate the speed tests\n-   `{fastDummies}` had similar speeds only for dataframes with rows \\~1M\n-   `{dummy}` and `{dummies}` are the slowest\n\n## Motivation\n\nIn 2017, I compared the performance of four packages `{stats}`, `{dummies}`, `{dummy}` and `{caret}` to create dummy variables in this [post](https://rsangole.netlify.app/post/2017/09/27/dummy-variables-one-hot-encoding/#large-datasets).\n\n[Jacob Kaplan](https://orcid.org/0000-0002-0601-0387) of UPenn has created a new package [`{fastdummies}`](https://jacobkap.github.io/fastDummies/) which claims to be faster than other existing packages.\n\nLet's test it out.\n\n## Machine\n\nI'm running these tests on a 2019 MacBook Pro running macOS Catalina (10.15.7) on a 2.4 GHz 8-Core Intel i9 with 32 MB 2400 MHz DDR4, in a [docker container](https://hub.docker.com/r/hatmatrix/blog) running:\n\n    platform       x86_64-pc-linux-gnu         \n    arch           x86_64                      \n    os             linux-gnu                   \n    system         x86_64, linux-gnu           \n    status                                     \n    major          4                           \n    minor          0.0                         \n    year           2020                        \n    month          04                          \n    day            24                          \n    svn rev        78286                       \n    language       R                           \n    version.string R version 4.0.0 (2020-04-24)\n    nickname       Arbor Day \n\n## Perf Testing\n\n### A quick test\n\nCreate a test dataset...\n\n\n::: {.cell hash='2020-12-16-perf-benchmarking-dummy-variables-part-ii_cache/html/unnamed-chunk-1_28fce196823ad4b0c3cc6a0674b6566c'}\n\n```{.r .cell-code}\nNROW  <- 1e4\nfac_levels <- c(4, 4, 5, 5, 7, 7, 9, 9)\ninput_data <- tibble::tibble(\n    facVar_1 = as.factor(sample(LETTERS[1:fac_levels[1]], size = NROW, replace = TRUE)),\n    facVar_2 = as.factor(sample(LETTERS[1:fac_levels[2]], size = NROW, replace = TRUE)),\n    facVar_3 = as.factor(sample(LETTERS[1:fac_levels[3]], size = NROW, replace = TRUE)),\n    facVar_4 = as.factor(sample(LETTERS[1:fac_levels[4]], size = NROW, replace = TRUE)),\n    facVar_5 = as.factor(sample(LETTERS[1:fac_levels[5]], size = NROW, replace = TRUE)),\n    facVar_6 = as.factor(sample(LETTERS[1:fac_levels[6]], size = NROW, replace = TRUE)),\n    facVar_7 = as.factor(sample(LETTERS[1:fac_levels[7]], size = NROW, replace = TRUE)),\n    facVar_8 = as.factor(sample(LETTERS[1:fac_levels[8]], size = NROW, replace = TRUE))\n)\nstr(input_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\ntibble [10,000 × 8] (S3: tbl_df/tbl/data.frame)\n $ facVar_1: Factor w/ 4 levels \"A\",\"B\",\"C\",\"D\": 1 4 4 3 3 2 4 1 3 1 ...\n $ facVar_2: Factor w/ 4 levels \"A\",\"B\",\"C\",\"D\": 4 1 4 4 4 4 4 3 3 4 ...\n $ facVar_3: Factor w/ 5 levels \"A\",\"B\",\"C\",\"D\",..: 5 1 5 5 5 4 4 4 3 2 ...\n $ facVar_4: Factor w/ 5 levels \"A\",\"B\",\"C\",\"D\",..: 2 3 1 1 5 5 1 4 2 3 ...\n $ facVar_5: Factor w/ 7 levels \"A\",\"B\",\"C\",\"D\",..: 3 5 6 3 5 2 5 2 7 6 ...\n $ facVar_6: Factor w/ 7 levels \"A\",\"B\",\"C\",\"D\",..: 5 2 1 3 3 5 5 6 2 2 ...\n $ facVar_7: Factor w/ 9 levels \"A\",\"B\",\"C\",\"D\",..: 3 6 7 5 8 8 8 8 3 8 ...\n $ facVar_8: Factor w/ 9 levels \"A\",\"B\",\"C\",\"D\",..: 5 8 7 3 6 2 7 8 8 2 ...\n```\n:::\n:::\n\n\nRun microbenchmark...\n\n\n::: {.cell hash='2020-12-16-perf-benchmarking-dummy-variables-part-ii_cache/html/unnamed-chunk-2_a20241e5ff3965e69508b7559faa52bf'}\n\n```{.r .cell-code}\nstats_fn <- function(dat) stats::model.matrix(~.-1,dat)\ndummies_fn <- function(dat) dummies::dummy.data.frame(as.data.frame(dat))\ndummy_fn <- function(dat) dummy::dummy(dat)\ncaret_fn <- function(dat) {caret::dummyVars(formula = ~.,data = dat) %>% predict(newdata = dat)}\nfastDummies_fn <- function(dat) fastDummies::dummy_cols(dat)\n\nmicrobenchmark::microbenchmark(\n    stats =       stats_fn(input_data),\n    dummies =     dummies_fn(input_data),\n    dummy =       dummy_fn(input_data),\n    caret =       caret_fn(input_data),\n    fastDummies = fastDummies_fn(input_data),\n    times = 10L\n    ) %>% autoplot()\n```\n\n::: {.cell-output-display}\n![](2020-12-16-perf-benchmarking-dummy-variables-part-ii_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n`stats` is still clearly the fastest of all the packages, for this moderately sized dataset.\n\n### Dig a bit deeper\n\nHow does the performance vary when rows, columns, or number of factors are scaled?\n\nFirst, make some functions to create dataframes with varying rows/cols/levels per variable, run benchmarks & extract median execution times.\n\n\n::: {.cell hash='2020-12-16-perf-benchmarking-dummy-variables-part-ii_cache/html/unnamed-chunk-3_9aa8b6cc4fca2bb897221afb39e75b5c'}\n\n```{.r .cell-code}\nmake_data <- function(NROW = 10, NCOL = 5, NFAC = 5){\n    sapply(1:NCOL, \n           function(x) sample(LETTERS[1:NFAC], \n                              size = NROW, \n                              replace = TRUE)) %>% \n        as_tibble()\n    \n}\nrun_benchmark <- function(dat){\n    microbenchmark::microbenchmark(\n    stats =       stats_fn(dat),\n    dummies =     dummies_fn(dat),\n    dummy =       dummy_fn(dat),\n    caret =       caret_fn(dat),\n    fastDummies = fastDummies_fn(dat),\n    times = 10L\n    )\n}\nextract_median_time <- function(benchmarks){\n    as_tibble(benchmarks) %>% \n        dplyr::group_by(expr) %>% \n        summarize(median_ms = median(time) * 1e-6)\n}\n```\n:::\n\n\n`make_data` makes a pretty simple tibble:\n\n\n::: {.cell hash='2020-12-16-perf-benchmarking-dummy-variables-part-ii_cache/html/unnamed-chunk-4_2b9e6d34da24031cd25f187b4463d3a6'}\n\n```{.r .cell-code}\nmake_data(NROW = 5, NCOL = 6, NFAC = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5 × 6\n  V1    V2    V3    V4    V5    V6   \n  <chr> <chr> <chr> <chr> <chr> <chr>\n1 A     C     A     C     A     B    \n2 A     A     C     A     A     C    \n3 A     C     C     A     A     A    \n4 C     A     C     B     B     A    \n5 C     A     C     A     A     B    \n```\n:::\n:::\n\n\n### How does performance scale by number of rows?\n\n`stats` still rocks. With very large datasets, `fastDummies` approaches similar speed.\n\n\n::: {.cell hash='2020-12-16-perf-benchmarking-dummy-variables-part-ii_cache/html/unnamed-chunk-5_d50f891cacc2e05418b205755604333c'}\n\n```{.r .cell-code}\nexperiment_rows <- tibble::tibble(\n    nrows = 10^(1:6)\n    ) %>% \n    dplyr::mutate(input_data = purrr::map(nrows, ~make_data(NROW = .x, NCOL = 5, NFAC = 5)),\n                  benchmarks = purrr::map(input_data, ~run_benchmark(.x)),\n                  median_times = purrr::map(benchmarks, ~extract_median_time(.x)))\nexperiment_rows %>% \n    dplyr::select(nrows, median_times) %>%\n    tidyr::unnest(cols = c(median_times)) %>%\n    dplyr::rename(Package = expr) %>% \n    tidyr::pivot_wider(names_from = Package, values_from = median_ms) %>% \n    dplyr::mutate(\n        dummies = dummies/stats,\n        dummy = dummy/stats,\n        caret = caret/stats,\n        fastDummies = fastDummies/stats,\n        stats = 1\n    ) %>%\n    tidyr::pivot_longer(-nrows) %>% \n    ggplot(aes(nrows, value, color = name)) +\n    geom_line() +\n    geom_point(aes(text = glue::glue(\"<b>{title}</b> {verb} {y}x\", \n                                     title = name, \n                                     verb = ifelse(name == \"stats\", \":\", \"slower by\"), \n                                     y = ifelse(value > 2,\n                                            round(value),\n                                            round(value, digits = 1))))) +\n    scale_y_log10(labels = scales::label_number(accuracy = 1, suffix = \"x\")) +\n    scale_x_log10(breaks = 10^(1:6), labels = scales::label_number_si()) +\n    labs(x = \"Number of Rows\", y = \"Relative Execution Rates\", \n         title = \"Row Performance (log-log scale)\") -> p\nggplotly(p, tooltip = \"text\")\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-a7e48cc9e8beeafce22c\" style=\"width:100%;height:464px;\" class=\"plotly html-widget\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-a7e48cc9e8beeafce22c\">{\"x\":{\"data\":[{\"x\":[1,2,3,4,5,6],\"y\":[0.154219034521254,0.151325979461311,0.155675700387177,0.127490034302503,0.21553965701427,0.320314901759985],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(248,118,109,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"caret\",\"legendgroup\":\"caret\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[1,2,3,4,5,6],\"y\":[1.94507590072563,1.87960747046177,1.81679473312091,1.55383234341633,1.27216861635278,1.42262559122684],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(163,165,0,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"dummies\",\"legendgroup\":\"dummies\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[1,2,3,4,5,6],\"y\":[0.749890803412145,0.852258711182388,1.12165719130252,1.49563239018006,1.39792624697176,1.51023253300917],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,191,125,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"dummy\",\"legendgroup\":\"dummy\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[1,2,3,4,5,6],\"y\":[0.385605975282837,0.408502089800709,0.476165219331304,0.634589536274189,0.49692240976482,0.669603578449124],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,176,246,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"fastDummies\",\"legendgroup\":\"fastDummies\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[1,2,3,4,5,6],\"y\":[0,0,0,0,0,0],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(231,107,243,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"stats\",\"legendgroup\":\"stats\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[1,2,3,4,5,6],\"y\":[0.154219034521254,0.151325979461311,0.155675700387177,0.127490034302503,0.21553965701427,0.320314901759985],\"text\":[\"<b>caret<\\/b> slower by 1.4x\",\"<b>caret<\\/b> slower by 1.4x\",\"<b>caret<\\/b> slower by 1.4x\",\"<b>caret<\\/b> slower by 1.3x\",\"<b>caret<\\/b> slower by 1.6x\",\"<b>caret<\\/b> slower by 2x\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(248,118,109,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(248,118,109,1)\"}},\"hoveron\":\"points\",\"name\":\"caret\",\"legendgroup\":\"caret\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[1,2,3,4,5,6],\"y\":[1.94507590072563,1.87960747046177,1.81679473312091,1.55383234341633,1.27216861635278,1.42262559122684],\"text\":[\"<b>dummies<\\/b> slower by 88x\",\"<b>dummies<\\/b> slower by 76x\",\"<b>dummies<\\/b> slower by 66x\",\"<b>dummies<\\/b> slower by 36x\",\"<b>dummies<\\/b> slower by 19x\",\"<b>dummies<\\/b> slower by 26x\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(163,165,0,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(163,165,0,1)\"}},\"hoveron\":\"points\",\"name\":\"dummies\",\"legendgroup\":\"dummies\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[1,2,3,4,5,6],\"y\":[0.749890803412145,0.852258711182388,1.12165719130252,1.49563239018006,1.39792624697176,1.51023253300917],\"text\":[\"<b>dummy<\\/b> slower by 6x\",\"<b>dummy<\\/b> slower by 7x\",\"<b>dummy<\\/b> slower by 13x\",\"<b>dummy<\\/b> slower by 31x\",\"<b>dummy<\\/b> slower by 25x\",\"<b>dummy<\\/b> slower by 32x\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,191,125,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,191,125,1)\"}},\"hoveron\":\"points\",\"name\":\"dummy\",\"legendgroup\":\"dummy\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[1,2,3,4,5,6],\"y\":[0.385605975282837,0.408502089800709,0.476165219331304,0.634589536274189,0.49692240976482,0.669603578449124],\"text\":[\"<b>fastDummies<\\/b> slower by 2x\",\"<b>fastDummies<\\/b> slower by 3x\",\"<b>fastDummies<\\/b> slower by 3x\",\"<b>fastDummies<\\/b> slower by 4x\",\"<b>fastDummies<\\/b> slower by 3x\",\"<b>fastDummies<\\/b> slower by 5x\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,176,246,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,176,246,1)\"}},\"hoveron\":\"points\",\"name\":\"fastDummies\",\"legendgroup\":\"fastDummies\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[1,2,3,4,5,6],\"y\":[0,0,0,0,0,0],\"text\":\"<b>stats<\\/b> : 1x\",\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(231,107,243,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(231,107,243,1)\"}},\"hoveron\":\"points\",\"name\":\"stats\",\"legendgroup\":\"stats\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.7625570776256,\"r\":7.30593607305936,\"b\":40.1826484018265,\"l\":48.9497716894977},\"plot_bgcolor\":\"rgba(235,235,235,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"title\":{\"text\":\"Row Performance (log-log scale)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.5342465753425},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.75,6.25],\"tickmode\":\"array\",\"ticktext\":[\"10\",\"100\",\"1K\",\"10K\",\"100K\",\"1M\"],\"tickvals\":[1,2,3,4,5,6],\"categoryorder\":\"array\",\"categoryarray\":[\"10\",\"100\",\"1K\",\"10K\",\"100K\",\"1M\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(255,255,255,1)\",\"gridwidth\":0.66417600664176,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Number of Rows\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-0.0972537950362813,2.04232969576191],\"tickmode\":\"array\",\"ticktext\":[\"1x\",\"10x\",\"100x\"],\"tickvals\":[0,1,2],\"categoryorder\":\"array\",\"categoryarray\":[\"1x\",\"10x\",\"100x\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(255,255,255,1)\",\"gridwidth\":0.66417600664176,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Relative Execution Rates\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895},\"title\":{\"text\":\"name\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"4f851c5986d2\":{\"x\":{},\"y\":{},\"colour\":{},\"type\":\"scatter\"},\"4f8539a25388\":{\"x\":{},\"y\":{},\"colour\":{},\"text\":{}}},\"cur_data\":\"4f851c5986d2\",\"visdat\":{\"4f851c5986d2\":[\"function (y) \",\"x\"],\"4f8539a25388\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n### How does performance scale by number of columns?\n\n`stats` is the clear winner here.\n\n\n::: {.cell hash='2020-12-16-perf-benchmarking-dummy-variables-part-ii_cache/html/unnamed-chunk-6_0ed0575ab09cb90206b177fd010c7f3e'}\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-0563db96c27e4c269710\" style=\"width:100%;height:464px;\" class=\"plotly html-widget\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-0563db96c27e4c269710\">{\"x\":{\"data\":[{\"x\":[10,20,30,40,50],\"y\":[0.114166787870591,0.115733933065692,0.0779027620630683,0.0840034854350027,0.0690892874019959],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(248,118,109,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"caret\",\"legendgroup\":\"caret\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10,20,30,40,50],\"y\":[1.89083436136451,1.91897295197004,1.92741602312565,1.9114863983755,1.92815093802217],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(163,165,0,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"dummies\",\"legendgroup\":\"dummies\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10,20,30,40,50],\"y\":[1.19083449266505,1.22124196224263,1.22032151963396,1.22215231030983,1.20193086851907],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,191,125,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"dummy\",\"legendgroup\":\"dummy\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10,20,30,40,50],\"y\":[0.510279970081117,0.555785637125009,0.539189987756118,0.539786023118777,0.538844660558824],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,176,246,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"fastDummies\",\"legendgroup\":\"fastDummies\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10,20,30,40,50],\"y\":[0,0,0,0,0],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(231,107,243,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"stats\",\"legendgroup\":\"stats\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10,20,30,40,50],\"y\":[0.114166787870591,0.115733933065692,0.0779027620630683,0.0840034854350027,0.0690892874019959],\"text\":[\"<b>caret<\\/b> slower by 1.3x\",\"<b>caret<\\/b> slower by 1.3x\",\"<b>caret<\\/b> slower by 1.2x\",\"<b>caret<\\/b> slower by 1.2x\",\"<b>caret<\\/b> slower by 1.2x\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(248,118,109,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(248,118,109,1)\"}},\"hoveron\":\"points\",\"name\":\"caret\",\"legendgroup\":\"caret\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10,20,30,40,50],\"y\":[1.89083436136451,1.91897295197004,1.92741602312565,1.9114863983755,1.92815093802217],\"text\":[\"<b>dummies<\\/b> slower by 78x\",\"<b>dummies<\\/b> slower by 83x\",\"<b>dummies<\\/b> slower by 85x\",\"<b>dummies<\\/b> slower by 82x\",\"<b>dummies<\\/b> slower by 85x\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(163,165,0,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(163,165,0,1)\"}},\"hoveron\":\"points\",\"name\":\"dummies\",\"legendgroup\":\"dummies\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10,20,30,40,50],\"y\":[1.19083449266505,1.22124196224263,1.22032151963396,1.22215231030983,1.20193086851907],\"text\":[\"<b>dummy<\\/b> slower by 16x\",\"<b>dummy<\\/b> slower by 17x\",\"<b>dummy<\\/b> slower by 17x\",\"<b>dummy<\\/b> slower by 17x\",\"<b>dummy<\\/b> slower by 16x\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,191,125,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,191,125,1)\"}},\"hoveron\":\"points\",\"name\":\"dummy\",\"legendgroup\":\"dummy\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10,20,30,40,50],\"y\":[0.510279970081117,0.555785637125009,0.539189987756118,0.539786023118777,0.538844660558824],\"text\":[\"<b>fastDummies<\\/b> slower by 3x\",\"<b>fastDummies<\\/b> slower by 4x\",\"<b>fastDummies<\\/b> slower by 3x\",\"<b>fastDummies<\\/b> slower by 3x\",\"<b>fastDummies<\\/b> slower by 3x\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,176,246,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,176,246,1)\"}},\"hoveron\":\"points\",\"name\":\"fastDummies\",\"legendgroup\":\"fastDummies\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[10,20,30,40,50],\"y\":[0,0,0,0,0],\"text\":\"<b>stats<\\/b> : 1x\",\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(231,107,243,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(231,107,243,1)\"}},\"hoveron\":\"points\",\"name\":\"stats\",\"legendgroup\":\"stats\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.7625570776256,\"r\":7.30593607305936,\"b\":40.1826484018265,\"l\":48.9497716894977},\"plot_bgcolor\":\"rgba(235,235,235,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"title\":{\"text\":\"Column Performance (linear-log scale)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.5342465753425},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[8,52],\"tickmode\":\"array\",\"ticktext\":[\"10\",\"20\",\"30\",\"40\",\"50\"],\"tickvals\":[10,20,30,40,50],\"categoryorder\":\"array\",\"categoryarray\":[\"10\",\"20\",\"30\",\"40\",\"50\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(255,255,255,1)\",\"gridwidth\":0.66417600664176,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Number of Columns\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-0.0964075469011085,2.02455848492328],\"tickmode\":\"array\",\"ticktext\":[\"1x\",\"10x\",\"100x\"],\"tickvals\":[0,1,2],\"categoryorder\":\"array\",\"categoryarray\":[\"1x\",\"10x\",\"100x\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(255,255,255,1)\",\"gridwidth\":0.66417600664176,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Relative Execution Rates\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895},\"title\":{\"text\":\"name\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"4f859e14235\":{\"x\":{},\"y\":{},\"colour\":{},\"type\":\"scatter\"},\"4f8523c1aaa4\":{\"x\":{},\"y\":{},\"colour\":{},\"text\":{}}},\"cur_data\":\"4f859e14235\",\"visdat\":{\"4f859e14235\":[\"function (y) \",\"x\"],\"4f8523c1aaa4\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n### How does performance scale by number of levels?\n\nInterestingly, number of levels per factor have little/no impact on performance for `stats`, `caret` and `dummies`. `fastDummies` & `dummies` show a positive correlation to levels.\n\n\n::: {.cell hash='2020-12-16-perf-benchmarking-dummy-variables-part-ii_cache/html/unnamed-chunk-7_bd9542b6a4ce5f5b8a0ba633e5f61662'}\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-ed0ae316cbfc8d2a6060\" style=\"width:100%;height:464px;\" class=\"plotly html-widget\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-ed0ae316cbfc8d2a6060\">{\"x\":{\"data\":[{\"x\":[5,10,15,20],\"y\":[0.156615913179122,0.163660664479217,0.191282043687439,0.166146060223717],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(248,118,109,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"caret\",\"legendgroup\":\"caret\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[5,10,15,20],\"y\":[1.82649717191687,1.80184669120386,1.81080676846869,1.76743176336922],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(163,165,0,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"dummies\",\"legendgroup\":\"dummies\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[5,10,15,20],\"y\":[1.12202458956948,1.34054562225855,1.50616652467899,1.57711574339398],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,191,125,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"dummy\",\"legendgroup\":\"dummy\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[5,10,15,20],\"y\":[0.482243544870215,0.602727921008835,0.746989983502225,0.808632596579784],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,176,246,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"fastDummies\",\"legendgroup\":\"fastDummies\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[5,10,15,20],\"y\":[0,0,0,0],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(231,107,243,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"stats\",\"legendgroup\":\"stats\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[5,10,15,20],\"y\":[0.156615913179122,0.163660664479217,0.191282043687439,0.166146060223717],\"text\":[\"<b>caret<\\/b> slower by 1.4x\",\"<b>caret<\\/b> slower by 1.5x\",\"<b>caret<\\/b> slower by 1.6x\",\"<b>caret<\\/b> slower by 1.5x\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(248,118,109,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(248,118,109,1)\"}},\"hoveron\":\"points\",\"name\":\"caret\",\"legendgroup\":\"caret\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[5,10,15,20],\"y\":[1.82649717191687,1.80184669120386,1.81080676846869,1.76743176336922],\"text\":[\"<b>dummies<\\/b> slower by 67x\",\"<b>dummies<\\/b> slower by 63x\",\"<b>dummies<\\/b> slower by 65x\",\"<b>dummies<\\/b> slower by 59x\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(163,165,0,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(163,165,0,1)\"}},\"hoveron\":\"points\",\"name\":\"dummies\",\"legendgroup\":\"dummies\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[5,10,15,20],\"y\":[1.12202458956948,1.34054562225855,1.50616652467899,1.57711574339398],\"text\":[\"<b>dummy<\\/b> slower by 13x\",\"<b>dummy<\\/b> slower by 22x\",\"<b>dummy<\\/b> slower by 32x\",\"<b>dummy<\\/b> slower by 38x\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,191,125,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,191,125,1)\"}},\"hoveron\":\"points\",\"name\":\"dummy\",\"legendgroup\":\"dummy\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[5,10,15,20],\"y\":[0.482243544870215,0.602727921008835,0.746989983502225,0.808632596579784],\"text\":[\"<b>fastDummies<\\/b> slower by 3x\",\"<b>fastDummies<\\/b> slower by 4x\",\"<b>fastDummies<\\/b> slower by 6x\",\"<b>fastDummies<\\/b> slower by 6x\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,176,246,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,176,246,1)\"}},\"hoveron\":\"points\",\"name\":\"fastDummies\",\"legendgroup\":\"fastDummies\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[5,10,15,20],\"y\":[0,0,0,0],\"text\":\"<b>stats<\\/b> : 1x\",\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(231,107,243,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(231,107,243,1)\"}},\"hoveron\":\"points\",\"name\":\"stats\",\"legendgroup\":\"stats\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.7625570776256,\"r\":7.30593607305936,\"b\":40.1826484018265,\"l\":43.1050228310502},\"plot_bgcolor\":\"rgba(235,235,235,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"title\":{\"text\":\"Factor Levels Performance (linear-log scale)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.5342465753425},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[4.25,20.75],\"tickmode\":\"array\",\"ticktext\":[\"5\",\"10\",\"15\",\"20\"],\"tickvals\":[5,10,15,20],\"categoryorder\":\"array\",\"categoryarray\":[\"5\",\"10\",\"15\",\"20\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(255,255,255,1)\",\"gridwidth\":0.66417600664176,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Number of Factor Levels\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-0.0913248585958433,1.91782203051271],\"tickmode\":\"array\",\"ticktext\":[\"1x\",\"3x\",\"10x\",\"30x\"],\"tickvals\":[0,0.477121254719662,1,1.47712125471966],\"categoryorder\":\"array\",\"categoryarray\":[\"1x\",\"3x\",\"10x\",\"30x\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(255,255,255,1)\",\"gridwidth\":0.66417600664176,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Relative Execution Rates\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895},\"title\":{\"text\":\"name\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"4f8565c4a955\":{\"x\":{},\"y\":{},\"colour\":{},\"type\":\"scatter\"},\"4f8552493fa5\":{\"x\":{},\"y\":{},\"colour\":{},\"text\":{}}},\"cur_data\":\"4f8565c4a955\",\"visdat\":{\"4f8565c4a955\":[\"function (y) \",\"x\"],\"4f8552493fa5\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n## Conclusion\n\nSee [tl;dr](#tldr)\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/htmlwidgets-1.5.4/htmlwidgets.js\"></script>\n<script src=\"../../site_libs/plotly-binding-4.10.0/plotly.js\"></script>\n<script src=\"../../site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"../../site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js\"></script>\n<link href=\"../../site_libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/plotly-main-2.5.1/plotly-latest.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}